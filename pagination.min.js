!function(e){e.fn.drawPage=function(a){let t=e.extend({from:1,to:1,boundary:!1},a);return this.each(function(){let a=e(this).children("ul");a.empty();let i='<li class="page-item"><a class="page-link" href="javascript:void(0)" tabindex="-1"';1==t.boundary&&a.append(i+'id="page-first" data-index="0">First</a></li>'),a.append(i+'id="page-previous" data-index="0">Previous</a></li>');let n=0;for(var r=t.from;r<=t.to;r++)a.append(i+'data-index="'+ ++n+'">'+r+"</a></li>");a.append(i+'id="page-next" data-index="'+ ++n+'">Next</a></li>'),1==t.boundary&&a.append(i+'id="page-last" data-index="0">Last</a></li>')})},e.fn.pageChanging=function(a,t){let i=e.extend({size:1,pageShow:5,page:1,limit:10,boundary:!1},a);return this.each(function(){let a=e(this);e(this).children("ul").click(function(n){let r=!0===i.boundary?1:0,l=e(this).children("li"),s=e(n.target).attr("data-index"),p=Math.ceil(i.size/i.limit),o=parseInt(e(l.filter(".active").html()).attr("data-index")),h=parseInt(e(l.eq(1+r).html()).html()),d=parseInt(e(l.eq(l.length-(2+r)).html()).html()),g=e(l.filter(".active").html()).html(),u=isNaN(g)?1:parseInt(g),c=!1,f=e(n.target).html().toLowerCase();switch(f){case"first":if(!(u>1))return!0;u=1,c=!0,s=1;break;case"last":if(!(i.page*i.limit<p))return!0;u=p,c=!0,s=i.pageShow;break;case"previous":if(!(u>1))return!0;u-=1,c=!0,s=parseInt(o)-1;break;case"next":if(!(u<p))return!0;u+=1,c=!0,s=parseInt(o)+1;break;default:if(u=parseInt(e(n.target).html()),!(s>=1&&s<=p))return!0;c=!0}let m=1,w=i.pageShow;"first"===f?(m=1,w=p>i.pageShow?i.pageShow:p):"last"===f?(m=p-i.pageShow+1,w=p):s>=i.pageShow&&d<p?(m=d-(i.pageShow-2),w=d+1,s=i.pageShow-1):s<=1&&h>1?(m=h-1,w=h+(i.pageShow-2),s=2):(m=h,w=d),c&&e.isFunction(t)&&e(n.target).html()!==g&&(t.call(this,{size:i.size,page:u,limit:i.limit}),a.drawPage({from:m,to:w,boundary:i.boundary})),s>0&&s<(p>i.pageShow?i.pageShow+1:p+1)&&p>1&&a.find("ul > li").eq(parseInt(s)+r).addClass("active").siblings().removeClass("active")})})},e.fn.Pagination=function(a,t){let i=e.extend({size:1,pageShow:5,page:1,limit:10,boundary:!1},a);return i.pageShow<3&&(i.pageShow=3),this.each(function(){let a=Math.ceil(i.size/i.limit),n=a>i.pageShow?i.pageShow:a;e(this).empty(),e(this).append('<ul class="pagination"></ul>'),e(this).drawPage({from:1,to:n,boundary:i.boundary}),e(this).find("ul > li").eq(!0===i.boundary?2:1).addClass("active"),t.call(this,{page:i.page,limit:i.limit}),e(this).pageChanging({size:i.size,pageShow:i.pageShow,page:i.page,limit:i.limit,boundary:i.boundary},t)})}}(jQuery);

!function(a){a.fn.drawPage=function(e){var t=a.extend({from:1,to:1},e);return this.each(function(){var e=a(this).children("ul");e.empty();var i='<li class="page-item"><a class="page-link" href="javascript:void(0)" tabindex="-1"';e.append(i+'id="page-prev" data-index="0">Previous</a></li>');for(var n=0,r=t.from;r<=t.to;r++)e.append(i+'data-index="'+ ++n+'">'+r+"</a></li>");e.append(i+'id="page-next" data-index="'+ ++n+'">Next</a></li>')})},a.fn.pageChanging=function(e,t){var i=a.extend({size:1,pageShow:5,page:1,limit:1,callback:function(){}},e);return this.each(function(){var e=a(this);a(this).children("ul").click(function(t){var n=a(this).children("li"),r=a(t.target).attr("data-index"),l=Math.ceil(i.size/i.limit),s=parseInt(a(n.filter(".active").html()).attr("data-index")),c=parseInt(a(n.eq(1).html()).html()),h=parseInt(a(n.eq(n.length-2).html()).html()),p=a(n.filter(".active").html()).html(),d=parseInt(p),o=!1;switch(a(t.target).html().toLowerCase()){case"first":if(!(d>1))return!0;d=1,o=!0;break;case"last":if(!(d*$limit<l))return!0;d=l,o=!0;break;case"previous":if(!(d>1))return!0;d-=1,o=!0,r=parseInt(s)-1;break;case"next":if(!(d<l))return!0;d+=1,o=!0,r=parseInt(s)+1;break;default:if(d=parseInt(a(t.target).html()),!(r>=1&&r<=l))return!0;o=!0}o&&a.isFunction(i.callback)&&a(t.target).html()!==p&&i.callback.call(this,{size:i.size,page:d,limit:i.limit}),r>=5&&h<l&&(e.drawPage({from:h-3,to:h+1}),r=4),r<=1&&c>1&&(e.drawPage({from:c-1,to:c+3}),r=2),r>0&&r<(l>5?6:l+1)&&l>1&&e.find("ul > li").eq(r).addClass("active").siblings().removeClass("active")})})},a.fn.Pagination=function(e,t){var i=a.extend({size:1,pageShow:5,page:1,limit:1},e);return this.each(function(){var e=Math.ceil(i.size/i.limit),n=e>i.pageShow?i.pageShow:e;a(this).empty(),a(this).append('<ul class="pagination"></ul>'),a(this).drawPage({from:1,to:n}),a(this).find("ul > li").eq(1).addClass("active"),t.call(this,{page:1}),a(this).pageChanging({size:i.size,pageShow:i.pageShow,page:i.page,limit:i.limit,callback:t})})}}(jQuery);

!function(a){a.fn.drawPage=function(e){var t=a.extend({from:1,to:1,boundary:!1},e);return this.each(function(){var e=a(this).children("ul");e.empty();var i='<li class="page-item"><a class="page-link" href="javascript:void(0)" tabindex="-1"';1==t.boundary&&e.append(i+'id="page-first" data-index="0">First</a></li>'),e.append(i+'id="page-previous" data-index="0">Previous</a></li>');for(var n=0,r=t.from;r<=t.to;r++)e.append(i+'data-index="'+ ++n+'">'+r+"</a></li>");e.append(i+'id="page-next" data-index="'+ ++n+'">Next</a></li>'),1==t.boundary&&e.append(i+'id="page-last" data-index="0">Last</a></li>')})},a.fn.pageChanging=function(e,t){var i=a.extend({size:1,pageShow:5,page:1,limit:1,boundary:!1},e);return this.each(function(){var e=a(this);a(this).children("ul").click(function(n){var r=!0===i.boundary?1:0,s=a(this).children("li"),p=a(n.target).attr("data-index"),l=Math.ceil(i.size/i.limit),o=parseInt(a(s.filter(".active").html()).attr("data-index")),h=parseInt(a(s.eq(1+r).html()).html()),d=parseInt(a(s.eq(s.length-(2+r)).html()).html()),g=a(s.filter(".active").html()).html(),u=isNaN(g)?1:parseInt(g),c=!1,f=a(n.target).html().toLowerCase();switch(f){case"first":if(!(u>1))return!0;u=1,c=!0,p=1;break;case"last":if(!(i.page*i.limit<l))return!0;u=l,c=!0,p=i.pageShow;break;case"previous":if(!(u>1))return!0;u-=1,c=!0,p=parseInt(o)-1;break;case"next":if(!(u<l))return!0;u+=1,c=!0,p=parseInt(o)+1;break;default:if(u=parseInt(a(n.target).html()),!(p>=1&&p<=l))return!0;c=!0}var m=1,w=i.pageShow;"first"===f?(m=1,w=l>i.pageShow?i.pageShow:l):"last"===f?(m=l-i.pageShow+1,w=l):p>=i.pageShow&&d<l?(m=d-(i.pageShow-2),w=d+1,p=i.pageShow-1):p<=1&&h>1?(m=h-1,w=h+(i.pageShow-2),p=2):(m=h,w=d),c&&a.isFunction(t)&&a(n.target).html()!==g&&(t.call(this,{size:i.size,page:u,limit:i.limit}),e.drawPage({from:m,to:w,boundary:i.boundary})),p>0&&p<(l>i.pageShow?i.pageShow+1:l+1)&&l>1&&e.find("ul > li").eq(parseInt(p)+r).addClass("active").siblings().removeClass("active")})})},a.fn.Pagination=function(e,t){var i=a.extend({size:1,pageShow:5,page:1,limit:10,boundary:!1},e);return i.pageShow<3&&(i.pageShow=3),this.each(function(){var e=Math.ceil(i.size/i.limit),n=e>i.pageShow?i.pageShow:e;a(this).empty(),a(this).append('<ul class="pagination"></ul>'),a(this).drawPage({from:1,to:n,boundary:i.boundary}),a(this).find("ul > li").eq(!0===i.boundary?2:1).addClass("active"),t.call(this,{page:1}),a(this).pageChanging({size:i.size,pageShow:i.pageShow,page:i.page,limit:i.limit,boundary:i.boundary},t)})}}(jQuery);
